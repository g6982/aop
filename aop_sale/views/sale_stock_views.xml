<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <data>

        <record id="sale_stock_aop_form" model="ir.ui.view">
			<field name="name">aop.route.form</field>
			<field name="model">aop.route</field>
			<field name="arch" type="xml">
				<form>
					<header>
						<button name="generate_route_by_location" string="生成路由" type="object" class="oe_highlight"/>
						<button name="delete_route" string="删除路由" type="object" class="oe_highlight"/>
					</header>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" string="路由说明"/>
                                <field name="partner_id" string="合作伙伴"/>
                            </group>
                            <group>
                                <field name="route_id"
                                       string="生成的路由"
                                       readonly="True"
                                       attrs="{'invisible': [('route_id', '=', False)]}"
                                />
                            </group>
                        </group>
						<notebook>
							<page string="路由线路站点设置">
                                <field name="route_line_ids">
                                    <tree editable="bottom">
                                         <field name="sequence" widget="handle"/>
                                        <field name="name" string="站点说明"/>
                                        <field name="picking_type_id"
                                               string="作业内容"
                                               options="{'no_quick_create': True, 'no_create_edit': True}"/>
                                        <field name="partner_id"
                                               string="提车点"
                                               options="{'no_quick_create': True, 'no_create_edit': True}"/>
                                        <field name="des_partner_id"
                                               string="卸车点"
                                               options="{'no_quick_create': True, 'no_create_edit': True}"/>
                                        <field name="warehouse_id"
                                               string="执行机构"
                                               options="{'no_quick_create': True, 'no_create_edit': True}"/>

                                    </tree>
                                </field>
							</page>
						</notebook>
                    </sheet>
				</form>
			</field>
		</record>

        <record id="aop_sale.sale_stock_aop_act_windows" model="ir.actions.act_window">
			<field name="name">路由线路</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">aop.route</field>
			<field name="view_mode">tree,form</field>
		</record>

        <menuitem id="sale_stock" name="AOP" web_icon="aop_sale,static/description/icon.png"/>
        <menuitem id="sale_stock_aop_menu1" name="路由" parent="sale_stock"/>
        <menuitem id="sale_stock_aop_menu2" name="路由" parent="sale_stock_aop_menu1"
                  action="sale_stock_aop_act_windows"/>

    </data>

</odoo>